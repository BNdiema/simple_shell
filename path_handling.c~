#include <stdio.h>
#include <stdlib.h>
#include <string.h>

char *get_path(const char *cmd)
{
  char *path = getenv("PATH");
  char *path_copy = strdup(path);
  char *tocken = strtok(path_copy, ":");
  char **full_path;

  while (tocken != NULL)
    {
      full_path = create_full_path(tocken, cmd);
      if(full_path != NULL)
	{
	  return full_path;
	}

      tocken = strtok(NULL, ":");
    }

  return NULL;
}

void create_full_path(const char* dir, const char* cmd, char* full_path)
{
  int dir_length = strlen(dir);
  int cmd_length = strlen(cmd);

  memcpy(full_path, dir, dir_length);

  full_path[dir_length] = '/';

  memcpy(full_path + dir_length + 1, cmd, cmd_length);

  full_path[dir_length + cmd_length + 1] = '\0';
}
